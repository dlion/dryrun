<!DOCTYPE html>
<html lang="en" class="no-js">
  <head>
    <meta charset="utf-8">
    <title>{% if page.title %}{{ page.title }} 路 {% endif %}{{ site.title }}</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    {%- seo -%}
    <link rel="stylesheet" href="{{ "/assets/css/main.css" | relative_url }}">
    <link rel="stylesheet" href="{{ "/assets/css/syntax.css" | relative_url }}">
  </head>
  <body>
    <header class="site-header">
      <div class="container bar">
        <a href="{{ "/" | relative_url }}" class="site-title">{{ site.title }}</a>
        <nav class="site-nav">
          <a href="{{ "/" | relative_url }}" {% if page.url == "/" %}class="active"{% endif %}>Home</a>
          <a href="{{ "/about/" | relative_url }}" {% if page.url contains "/about/" %}class="active"{% endif %}>About</a>
          <a href="{{ "/tags/" | relative_url }}" {% if page.url contains "/tags/" %}class="active"{% endif %}>Tags</a>
          <a href="{{ "/search/" | relative_url }}" {% if page.url contains "/search/" %}class="active"{% endif %}>Search</a>
          <a href="{{ "/feed.xml" | relative_url }}">RSS</a>
          <button class="theme-toggle" onclick="toggleTheme()"></button>
        </nav>
      </div>
    </header>

    <main class="container">
      {{ content }}
    </main>

    <footer class="site-footer">
      <div class="container">
        <div>漏 {{ site.time | date: "%Y" }} {{ site.title }} 路 <a href="{{ "/feed.xml" | relative_url }}">RSS</a></div>
        <div>
          <a href="https://github.com/dlion">GitHub</a> 路
          <a href="https://linkedin.com/in/dlion">LinkedIn</a> 路
          <a href="https://twitter.com/DLion92">Twitter</a>
        </div>
      </div>
    </footer>

    <script>
      function toggleTheme(){
        const r = document.documentElement;
        if(r.classList.contains('theme-dark')){
          r.classList.remove('theme-dark'); r.classList.add('theme-light');
          localStorage.setItem('theme','light');
        } else {
          r.classList.remove('theme-light'); r.classList.add('theme-dark');
          localStorage.setItem('theme','dark');
        }
      }
      (function(){
        const saved = localStorage.getItem('theme');
        if(saved){ document.documentElement.classList.add('theme-'+saved); }
      })();
    </script>
  </body>
</html>